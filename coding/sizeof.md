### sizeof

---

#### 32位环境下正常对齐:

约束原则:

> 1. 结构体第一个成员的地址和结构体的首地址相同
> 2. 结构体每个成员地址相对于结构体首地址的偏移量（offset）是该成员大小的整数倍，如果不是则编译器会在成员之间添加填充字节（internal adding）。
> 3. 结构体总的大小要是其成员中最大size的整数倍，如果不是编译器会在其末尾添加填充字节（trailing padding）。

#### 使用#pragma pack(push,N)指定对齐：

N必须为2的N次幂(N可以为0)，否则会不生效

约束原则：

> 1. 结构体第一个成员的地址和结构体的首地址相同
> 2. 结构体每个成员的地址偏移需要满足：N大于等于该成员的大小，那么该成员的地址偏移需满足默认对齐方式（地址偏移是其成员大小的整数倍）；Ｎ小于该成员的大小，那么该成员的地址偏移是**N的整数倍**。
> 3. 结构体总的大小需要时N的整数倍，如果不是需要在结构体的末尾进行填充。
> 4. **如果N大于结构体成员中最大成员的大小，则N不起作用，仍然按照默认方式对齐。**

