## 多线程处理

### 方案一

1. 创建一个主线程MainThread,负责接收连接。
2. 创建一个线程池，每个线程池中的线程都有一个base，及每个线程都有一个事件循环。
3. 当新连接到来时，主线程MainThread处理连接，将连接后的socket通过读写管道的方式通知给线程。需要通过负载均衡的方式来决定具体通知给哪一个线程。
4. 线程写管道接收到消息后，将连接后的socket 注册到线程自己的base中。

