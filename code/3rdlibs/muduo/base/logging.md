# 日志类

## 1. Logger 类

日志级别：
* TRACE
* TRACE,
* DEBUG,
* INFO,
* WARN,
* ERROR,
* FATAL,
* NUM_LOG_LEVELS,  


### 原理

1. 在构造函数内创建一个 impl_（将内部的实现逻辑封装成一个类）的对象， 并使用这个对象来填充前缀，比如时间、级别、行数、函数名等内容。
2. 在析构函数内使用 g_output 来添加数据，若日志级别为 FATAL ，则 flush() 后使用 abort() 终止程序。
3. 接收日志的容器和刷新流的函数都可以自定义，可以通过 `setOutput` 和 `setFlush` 传入, 默认为 stdout
4. 可以设置时区，这样电脑的时间就不需要更新了


### 2. SourceFile 类

用来获取调用日志的函数所在的文件名称， 重载两个构造函数，一个是传入数组的引用，一个是传入字符指针。


### 3. Impl 类

将内部的实现封装成了一个私有的内部类， 外部无法调用， 比重新创建一个实现类，继承接口，来特例化实现子类。

此时外部类就只有一个成员变量，就是 Impl 类的对象，其他的都是开放的接口


## 和 LogFile 联动

创建一个 LogFile 对象 `g_logFile`，创建一个 `void func(const char*, int)`类型的函数，在函数内部使用 `g_logFile` 进行添加日志的操作。 