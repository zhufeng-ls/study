# Linux中本机和本机Socket通信会走网卡吗

参老网址:\
https://www.zhihu.com/question/43590414/answer/96246937 

结论: 不走网卡，不走物理设备，但是走虚拟设备，走loopback device环回

本机的报文路径是这样的：\
应用层-> socket接口-> 传输层(tcp/udp报文) -> 网络层 -> back to 传输层 -> back to socket接口 -> back to 应用程序

在网络层，会在路由表查询路由，路由表（软件路由，真正的转发需要依靠硬件路由，这里的路由表包括快速转发表和FIB表）初始化时会保存本机的路由（host route 或 环回路由），查询（先匹配mask, 在匹配ip, localhost 路由在路由表最顶端， 最优先查到）后发现不用转发就不用走中断，不用发给链路层和网络设备（网卡）。像网卡发送接收报文一样，走相同的接收流策划嗯，只不过net device 是 loopback device, 最后发回应用程序。这一套流程和转发和接收外网报文一样，都需要经过内核协议栈的处理，不同的是本机地址不用过net device。

使用本机地址和 127.0.0.1没有大差别