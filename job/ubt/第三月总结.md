data: 2022.3.10
brief: 月度总结，可能是在这个公司的最后一个月了吧，因为距离上次总结没多久，就发下来了，我组长前段时间又嫌弃我工作效率低，工作效率低最大的原因是我的脚本布局不合理，调试起来过于困难，也可以说是我对脚本不熟悉导致的吧，还有一部分原因，就是和建安对接没有那么频繁，建安要做的事情太多了，没什么时间可以跟我对接，他的工作效率太高了，编程习惯也非常的好，思想也非常的活泼，是我看其的对象，不管我还能不能在这个公司继续待下去，我永远都很感谢它，它帮我恶补了我的基础和规范，都是第一份工作经历导致的，什么也没有教我，完全是放养，没有养成良好的编程习惯(注: 也可能真正要离开优必选后我才能真正感觉到伤心吧，可能会因爱生恨，但是我能明白,优必选确实宝帮助了我很多)。

1. 月度总结.

完成的工作任务:
1. 跳远.
    * 写完并调试跳远的流程代码,
    * 对接ukit协议, 将 tts 语音播报和灯带功能添加到跳远程序中。
    * 和前端完成了视频流的传输和跳远事件的传输,目前自测通过,未和前端对接。
    * 使用 opencv 完成了提示(中文)、人体框、倒计时的绘制。
    * docker 环境的搭建.
    * 参数的可配置化,避免反复编译程序。
2. smile.
    * 分别使用 gocv 和 ffmepg 进行图像的提取, gocv占用cpu和内存较多, 而ffmpeg的峰值也占用了很多cpu, 后续需要优化。
    * 程序可通过配置文件和命令参数进行配置, 后续直接修改配置来应付不同的环境。
    * smile 最大情绪提取的完成。

3. 视频后处理.
    * 包含开场、闭幕、跳远、跳远成绩、水印、bgm、慢动作和转场。
    * 重写了脚本、用函数做功能的划分、函数里面不在包含参数的转换,后续扩展和修改更加方便。

取得的进步:
1. 查找资料时检索的关键字更加明确。
2. 编程习惯更加良好, 编程效率提升很多。
3. 对c++语言理解的更加深刻了。
4. 脚本的编写设计更加合理, 反复修改后,布局比以前合理了很多,方便调试和扩展。
5. 了解了一些python的语法。
6. 一些业务功能标准化的设计。
7. 对opencv的使用更加熟练。
8. 了解了如何对未对接的功能通过脚本进行测试, 从而达到解耦的目的。
9. 每天对自己做复盘, 从错误编程和提升效率两方便, 思考如何改进, 反复对自己复盘, 不做没有工作效率只有加班时间的码农。


思考:
如何提高工作效率,减少不必要的加班时间, 主要时间都浪费在编译代码上了。

在算法中, 时间复杂度和空间复杂度是相互冲突的, 工作中也一样,若编程习惯不良好,前期虽然完成任务很快,但是一旦涉及到需求新增和功能变更,由于前期糟糕的代码设计。
从两方面来说吧, 分别是 代码设计 和 代码调试.
1. 代码设计
若类的解耦做的不好, 或者是没有根据应用场景做事件类型的划分,固执的想要将不同事件的类似功能都添加到一个函数中去,而不是为每个事件创建一个函数, 这样后面不同事件的功能有所改变时,这个包含所有功能的函数,就会变得异常复杂,难以调试,但是当初这么做的目的只是为了最大程度的复用代码,这就是时间换空间错误典型.
2. 代码调试.
    1. 当扩展一个新的功能的时候, 迫切的将所有的代码全部写完, 最后才进入调试, 在整个代码框架中调试一小部分代码是非常费时费力的, 浪费大量的的编译代码的时间和解决bug的时间.
    2. 当扩展新功能的时候, 将这个事件所涉及的操作都放在同一个函数中, 函数跨度太长, 调试起来就变得非常疲惫.

改进:
    代码设计:
    1. 遵循类的六大设计原则, 核心是单一职责, 最小了解, 接口隔离, 确保这个类依赖尽可能少的其他类.
    2. 多在代码设计中使用应用工厂、抽象工厂、观察者等设计模式。(不要强行套用设计模式)
    3. 遵循谷歌编程规范, 但是代码可读性为第一要素, 稳定性和可扩展性为第二、第三要素.
    4. 一些可配置的参数, 在添加进项目中前, 就要为其生成相应的配置项, 避免改动参数时编译代码浪费时间。
    5. 通过代码生成接口文档, 有效避免文档和代码版本不同步的问题。
    6. 函数中只涉及参数的计算,而不涉及参数的转换.

    代码调试:
    > 减少代码调试时间的核心就是编写足够多的测试用例。
    1. 使用googleTest自动化测试代码, 总共两个测试文件, 一个运行所有的测试, 一个运行单个测试。
    2. 接1, 每编写一个类, 都要为其创建测试用例, 若是服务器、客户端等阻塞类型的, 就单独为其创建一个 example.  